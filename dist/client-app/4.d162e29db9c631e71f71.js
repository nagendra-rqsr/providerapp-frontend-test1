(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{kY2p:function(t,e,r){"use strict";r.r(e),r.d(e,"ManagerModule",function(){return m});var o=r("ofXK"),i=r("tyNb"),c=r("fXoL"),s=r("F5nt"),n=r("3Pt+");function b(t,e){if(1&t&&(c.Kb(0,"option",11),c.cc(1),c.Jb()),2&t){const t=e.$implicit;c.Wb("value",t.id),c.xb(1),c.dc(t.doctor_name)}}let a=(()=>{class t{constructor(t,e){this.appService=t,this.router=e,this.register_doctor={manager_id:"",doctor_id:"",doctor_name:"",site_id:"",email:"",password:""},this.doctors=[],this.manager=null,this.sites=[]}ngOnInit(){let t=sessionStorage.getItem("MGR_USR");t?(this.manager=JSON.parse(t),this.register_doctor.manager_id=this.manager.manager_id,this.register_doctor.site_id="BP"+this.manager.site_id,this.getDoctors()):this.router.navigate(["/"])}getDoctors(){this.appService.getAllDoctors(this.register_doctor.site_id).subscribe(t=>{this.doctors=t})}getSites(){this.appService.getSites().subscribe(t=>{this.sites=t})}onRegister(){const t=this.doctors.find(t=>t.id==this.register_doctor.doctor_id);t&&(this.register_doctor.doctor_name=t.doctor_name),this.appService.registerDoctor(this.register_doctor).subscribe(t=>{this.router.navigate(["/manager/registered-doctors"])},t=>alert("failed to register"))}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(s.a),c.Hb(i.a))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-add-registered-doctors"]],decls:20,vars:3,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-md-3","offset-md-4"],[1,"card","card-body","bg-light"],[1,"mb-3","text-center","text-secondary"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[3,"value"]],template:function(t,e){1&t&&(c.Kb(0,"div",0),c.Kb(1,"div",1),c.Kb(2,"div",2),c.Kb(3,"div",3),c.Kb(4,"h5",4),c.cc(5,"Register Doctor"),c.Jb(),c.Kb(6,"div",5),c.Kb(7,"label"),c.cc(8,"Doctor"),c.Jb(),c.Kb(9,"select",6),c.Rb("ngModelChange",function(t){return e.register_doctor.doctor_id=t}),c.Kb(10,"option",7),c.cc(11,"Select Doctor"),c.Jb(),c.bc(12,b,2,2,"option",8),c.Jb(),c.Jb(),c.Kb(13,"div",5),c.Kb(14,"label"),c.cc(15,"Email"),c.Jb(),c.Kb(16,"input",9),c.Rb("ngModelChange",function(t){return e.register_doctor.email=t}),c.Jb(),c.Jb(),c.Kb(17,"div",5),c.Kb(18,"button",10),c.Rb("click",function(){return e.onRegister()}),c.cc(19,"Register"),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(9),c.Wb("ngModel",e.register_doctor.doctor_id),c.xb(3),c.Wb("ngForOf",e.doctors),c.xb(4),c.Wb("ngModel",e.register_doctor.email))},directives:[n.f,n.c,n.d,n.e,n.g,o.i,n.a],styles:[""]}),t})();function d(t,e){if(1&t&&(c.Kb(0,"div",3),c.Kb(1,"h3"),c.cc(2),c.Jb(),c.Jb()),2&t){const t=c.Tb();c.xb(2),c.ec("Welcome to BP",t.manager.site_id," ProviderApp")}}function g(t,e){1&t&&c.Ib(0,"span",17)}function l(t,e){1&t&&c.Ib(0,"span",18)}function u(t,e){if(1&t){const t=c.Lb();c.Kb(0,"tr"),c.Kb(1,"td"),c.cc(2),c.Jb(),c.Kb(3,"td"),c.cc(4),c.Jb(),c.Kb(5,"td"),c.cc(6),c.Jb(),c.Kb(7,"td"),c.cc(8),c.Jb(),c.Kb(9,"td"),c.cc(10),c.Ub(11,"date"),c.Jb(),c.Kb(12,"th",14),c.Rb("click",function(){c.Yb(t);const r=e.$implicit;return c.Tb().onIsActiveToggle(r)}),c.bc(13,g,1,0,"span",15),c.bc(14,l,1,0,"span",16),c.Jb(),c.Jb()}if(2&t){const t=e.$implicit;c.xb(2),c.dc(t.id),c.xb(2),c.dc(t.doctor_id),c.xb(2),c.dc(t.doctor_name),c.xb(2),c.dc(t.email),c.xb(2),c.dc(c.Vb(11,7,t.created_on)),c.xb(3),c.Wb("ngIf",t.isActive),c.xb(1),c.Wb("ngIf",!t.isActive)}}const p=[{path:"",component:(()=>{class t{constructor(){this.manager=null}ngOnInit(){const t=sessionStorage.getItem("MGR_USR");t&&(this.manager=JSON.parse(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Bb({type:t,selectors:[["app-manager"]],decls:4,vars:1,consts:[[1,"top-bar","text-center"],[1,"d-inline-block","py-3"],["class","d-inline-block text-secondary","routerLink","/manager/registered-doctors",4,"ngIf"],["routerLink","/manager/registered-doctors",1,"d-inline-block","text-secondary"]],template:function(t,e){1&t&&(c.Kb(0,"div",0),c.Kb(1,"div",1),c.bc(2,d,3,1,"div",2),c.Jb(),c.Jb(),c.Ib(3,"router-outlet")),2&t&&(c.xb(2),c.Wb("ngIf",e.manager))},directives:[o.j,i.d,i.b],styles:[""]}),t})(),children:[{path:"",redirectTo:"registered-doctors",pathMatch:"full"},{path:"registered-doctors",component:(()=>{class t{constructor(t,e){this.appService=t,this.router=e,this.registered_doctors=[],this.isActiveDirty=!1}ngOnInit(){sessionStorage.getItem("MGR_USR")||this.router.navigate(["/"]),this.getResiteredDoctors()}getResiteredDoctors(){this.appService.getRegisteredDoctors(1).subscribe(t=>{this.registered_doctors=t})}onRegisterDoctor(){this.router.navigate(["/manager/register-doctor"])}signOut(){sessionStorage.clear(),this.router.navigate(["/"])}onIsActiveToggle(t){t.isActive=!t.isActive,this.isActiveDirty=!0}submit(){this.appService.updateRegisteredDoctors(this.registered_doctors).subscribe(t=>{alert("updated"),this.getResiteredDoctors()})}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(s.a),c.Hb(i.a))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-registered-doctors"]],decls:32,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row","mt-3"],[1,"col-md-3"],[1,"form-group","mt-5"],["type","button",1,"btn","btn-primary","w-170",3,"click"],[1,"form-group"],[1,"btn","btn-primary","w-170",3,"click"],[1,"col-md-8"],[1,"mb-3","text-secondary"],[1,"table","table-bordered"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"form-group","text-center"],[1,"btn","btn-primary","w-170",3,"disabled","click"],[1,"text-center",3,"click"],["class","fa fa-toggle-on fa-lg text-primary",4,"ngIf"],["class","fa fa-toggle-off fa-lg text-secondary",4,"ngIf"],[1,"fa","fa-toggle-on","fa-lg","text-primary"],[1,"fa","fa-toggle-off","fa-lg","text-secondary"]],template:function(t,e){1&t&&(c.Kb(0,"div",0),c.Kb(1,"div",1),c.Kb(2,"div",2),c.Kb(3,"div",3),c.Kb(4,"button",4),c.Rb("click",function(){return e.onRegisterDoctor()}),c.cc(5," Register New Doctor "),c.Jb(),c.Jb(),c.Kb(6,"div",5),c.Kb(7,"button",6),c.Rb("click",function(){return e.signOut()}),c.cc(8,"Sign Out"),c.Jb(),c.Jb(),c.Jb(),c.Kb(9,"div",7),c.Kb(10,"h4",8),c.cc(11,"List of Registered Doctors"),c.Jb(),c.Kb(12,"table",9),c.Kb(13,"thead",10),c.Kb(14,"tr"),c.Kb(15,"th"),c.cc(16,"ID"),c.Jb(),c.Kb(17,"th"),c.cc(18,"Doctor ID"),c.Jb(),c.Kb(19,"th"),c.cc(20,"Doctor Name"),c.Jb(),c.Kb(21,"th"),c.cc(22,"Email"),c.Jb(),c.Kb(23,"th"),c.cc(24,"Registered On"),c.Jb(),c.Kb(25,"th"),c.cc(26,"Is Active"),c.Jb(),c.Jb(),c.Jb(),c.Kb(27,"tbody"),c.bc(28,u,15,9,"tr",11),c.Jb(),c.Jb(),c.Jb(),c.Jb(),c.Kb(29,"div",12),c.Kb(30,"button",13),c.Rb("click",function(){return e.submit()}),c.cc(31,"Submit"),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(28),c.Wb("ngForOf",e.registered_doctors),c.xb(2),c.Wb("disabled",!e.isActiveDirty))},directives:[o.i,o.j],pipes:[o.d],styles:[""]}),t})()},{path:"register-doctor",component:a}]}];let f=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[i.c.forChild(p)],i.c]}),t})(),m=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[o.b,n.b,f]]}),t})()}}]);