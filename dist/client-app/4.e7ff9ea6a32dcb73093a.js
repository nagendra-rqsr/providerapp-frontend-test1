(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{kY2p:function(t,e,r){"use strict";r.r(e),r.d(e,"ManagerModule",function(){return h});var i=r("ofXK"),o=r("tyNb"),c=r("AytR"),s=r("fXoL"),n=r("F5nt"),b=r("3Pt+");function a(t,e){if(1&t&&(s.Kb(0,"option",11),s.cc(1),s.Jb()),2&t){const t=e.$implicit;s.Wb("value",t.id),s.xb(1),s.dc(t.doctor_name)}}let d=(()=>{class t{constructor(t,e){this.appService=t,this.router=e,this.register_doctor={manager_id:"",doctor_id:"",doctor_name:"",site_id:"",email:"",password:""},this.doctors=[],this.manager=null,this.sites=[],this.site_prefix=""}ngOnInit(){this.site_prefix=c.a.production?"":"BP";let t=sessionStorage.getItem("MGR_USR");t?(this.manager=JSON.parse(t),this.register_doctor.manager_id=this.manager.manager_id,this.register_doctor.site_id=this.site_prefix+this.manager.site_id,this.getDoctors()):this.router.navigate(["/"])}getDoctors(){this.appService.getAllDoctors(this.register_doctor.site_id).subscribe(t=>{this.doctors=t})}getSites(){this.appService.getSites().subscribe(t=>{this.sites=t})}onRegister(){const t=this.doctors.find(t=>t.id==this.register_doctor.doctor_id);t&&(this.register_doctor.doctor_name=t.doctor_name),this.appService.registerDoctor(this.register_doctor).subscribe(t=>{this.router.navigate(["/manager/registered-doctors"])},t=>alert("failed to register"))}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(n.a),s.Hb(o.a))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-add-registered-doctors"]],decls:20,vars:3,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-md-3","offset-md-4"],[1,"card","card-body","bg-light"],[1,"mb-3","text-center","text-secondary"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"div",1),s.Kb(2,"div",2),s.Kb(3,"div",3),s.Kb(4,"h5",4),s.cc(5,"Register Doctor"),s.Jb(),s.Kb(6,"div",5),s.Kb(7,"label"),s.cc(8,"Doctor"),s.Jb(),s.Kb(9,"select",6),s.Rb("ngModelChange",function(t){return e.register_doctor.doctor_id=t}),s.Kb(10,"option",7),s.cc(11,"Select Doctor"),s.Jb(),s.bc(12,a,2,2,"option",8),s.Jb(),s.Jb(),s.Kb(13,"div",5),s.Kb(14,"label"),s.cc(15,"Email"),s.Jb(),s.Kb(16,"input",9),s.Rb("ngModelChange",function(t){return e.register_doctor.email=t}),s.Jb(),s.Jb(),s.Kb(17,"div",5),s.Kb(18,"button",10),s.Rb("click",function(){return e.onRegister()}),s.cc(19,"Register"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(9),s.Wb("ngModel",e.register_doctor.doctor_id),s.xb(3),s.Wb("ngForOf",e.doctors),s.xb(4),s.Wb("ngModel",e.register_doctor.email))},directives:[b.f,b.c,b.d,b.e,b.g,i.i,b.a],styles:[""]}),t})();function g(t,e){if(1&t&&(s.Kb(0,"div",3),s.Kb(1,"h3"),s.cc(2),s.Jb(),s.Jb()),2&t){const t=s.Tb();s.xb(2),s.ec("Welcome to BP",t.manager.site_id," ProviderApp")}}function l(t,e){1&t&&s.Ib(0,"span",17)}function u(t,e){1&t&&s.Ib(0,"span",18)}function p(t,e){if(1&t){const t=s.Lb();s.Kb(0,"tr"),s.Kb(1,"td"),s.cc(2),s.Jb(),s.Kb(3,"td"),s.cc(4),s.Jb(),s.Kb(5,"td"),s.cc(6),s.Jb(),s.Kb(7,"td"),s.cc(8),s.Jb(),s.Kb(9,"td"),s.cc(10),s.Ub(11,"date"),s.Jb(),s.Kb(12,"th",14),s.Rb("click",function(){s.Yb(t);const r=e.$implicit;return s.Tb().onIsActiveToggle(r)}),s.bc(13,l,1,0,"span",15),s.bc(14,u,1,0,"span",16),s.Jb(),s.Jb()}if(2&t){const t=e.$implicit;s.xb(2),s.dc(t.id),s.xb(2),s.dc(t.doctor_id),s.xb(2),s.dc(t.doctor_name),s.xb(2),s.dc(t.email),s.xb(2),s.dc(s.Vb(11,7,t.created_on)),s.xb(3),s.Wb("ngIf",t.isActive),s.xb(1),s.Wb("ngIf",!t.isActive)}}const f=[{path:"",component:(()=>{class t{constructor(){this.manager=null}ngOnInit(){const t=sessionStorage.getItem("MGR_USR");t&&(this.manager=JSON.parse(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Bb({type:t,selectors:[["app-manager"]],decls:4,vars:1,consts:[[1,"top-bar","text-center"],[1,"d-inline-block","py-3"],["class","d-inline-block text-secondary","routerLink","/manager/registered-doctors",4,"ngIf"],["routerLink","/manager/registered-doctors",1,"d-inline-block","text-secondary"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"div",1),s.bc(2,g,3,1,"div",2),s.Jb(),s.Jb(),s.Ib(3,"router-outlet")),2&t&&(s.xb(2),s.Wb("ngIf",e.manager))},directives:[i.j,o.d,o.b],styles:[""]}),t})(),children:[{path:"",redirectTo:"registered-doctors",pathMatch:"full"},{path:"registered-doctors",component:(()=>{class t{constructor(t,e){this.appService=t,this.router=e,this.registered_doctors=[],this.isActiveDirty=!1}ngOnInit(){sessionStorage.getItem("MGR_USR")||this.router.navigate(["/"]),this.getResiteredDoctors()}getResiteredDoctors(){this.appService.getRegisteredDoctors(1).subscribe(t=>{this.registered_doctors=t})}onRegisterDoctor(){this.router.navigate(["/manager/register-doctor"])}signOut(){sessionStorage.clear(),this.router.navigate(["/"])}onIsActiveToggle(t){t.isActive=!t.isActive,this.isActiveDirty=!0}submit(){this.appService.updateRegisteredDoctors(this.registered_doctors).subscribe(t=>{alert("updated"),this.getResiteredDoctors()})}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(n.a),s.Hb(o.a))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-registered-doctors"]],decls:32,vars:2,consts:[[1,"container-fluid","mt-3"],[1,"row","mt-3"],[1,"col-md-3"],[1,"form-group","mt-5"],["type","button",1,"btn","btn-primary","w-170",3,"click"],[1,"form-group"],[1,"btn","btn-primary","w-170",3,"click"],[1,"col-md-8"],[1,"mb-3","text-secondary"],[1,"table","table-bordered"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"form-group","text-center"],[1,"btn","btn-primary","w-170",3,"disabled","click"],[1,"text-center",3,"click"],["class","fa fa-toggle-on fa-lg text-primary",4,"ngIf"],["class","fa fa-toggle-off fa-lg text-secondary",4,"ngIf"],[1,"fa","fa-toggle-on","fa-lg","text-primary"],[1,"fa","fa-toggle-off","fa-lg","text-secondary"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"div",1),s.Kb(2,"div",2),s.Kb(3,"div",3),s.Kb(4,"button",4),s.Rb("click",function(){return e.onRegisterDoctor()}),s.cc(5," Register New Doctor "),s.Jb(),s.Jb(),s.Kb(6,"div",5),s.Kb(7,"button",6),s.Rb("click",function(){return e.signOut()}),s.cc(8,"Sign Out"),s.Jb(),s.Jb(),s.Jb(),s.Kb(9,"div",7),s.Kb(10,"h4",8),s.cc(11,"List of Registered Doctors"),s.Jb(),s.Kb(12,"table",9),s.Kb(13,"thead",10),s.Kb(14,"tr"),s.Kb(15,"th"),s.cc(16,"ID"),s.Jb(),s.Kb(17,"th"),s.cc(18,"Doctor ID"),s.Jb(),s.Kb(19,"th"),s.cc(20,"Doctor Name"),s.Jb(),s.Kb(21,"th"),s.cc(22,"Email"),s.Jb(),s.Kb(23,"th"),s.cc(24,"Registered On"),s.Jb(),s.Kb(25,"th"),s.cc(26,"Is Active"),s.Jb(),s.Jb(),s.Jb(),s.Kb(27,"tbody"),s.bc(28,p,15,9,"tr",11),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Kb(29,"div",12),s.Kb(30,"button",13),s.Rb("click",function(){return e.submit()}),s.cc(31,"Submit"),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(28),s.Wb("ngForOf",e.registered_doctors),s.xb(2),s.Wb("disabled",!e.isActiveDirty))},directives:[i.i,i.j],pipes:[i.d],styles:[""]}),t})()},{path:"register-doctor",component:d}]}];let m=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[o.c.forChild(f)],o.c]}),t})(),h=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[i.b,b.b,m]]}),t})()}}]);