(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{kY2p:function(t,e,r){"use strict";r.r(e),r.d(e,"ManagerModule",function(){return p});var o=r("ofXK"),i=r("tyNb"),s=r("fXoL"),b=r("F5nt"),c=r("3Pt+");function n(t,e){if(1&t&&(s.Kb(0,"option",11),s.Zb(1),s.Jb()),2&t){const t=e.$implicit;s.Ub("value",t.id),s.xb(1),s.ac(t.doctor_name)}}let d=(()=>{class t{constructor(t,e){this.appService=t,this.router=e,this.register_doctor={manager_id:"",doctor_id:"",doctor_name:"",site_id:"",email:"",password:""},this.doctors=[],this.manager=null,this.sites=[]}ngOnInit(){let t=sessionStorage.getItem("MGR_USR");t?(this.manager=JSON.parse(t),this.register_doctor.manager_id=this.manager.manager_id,this.register_doctor.site_id="BP"+this.manager.site_id,this.getDoctors()):this.router.navigate(["/"])}getDoctors(){this.appService.getAllDoctors(this.register_doctor.site_id).subscribe(t=>{this.doctors=t})}getSites(){this.appService.getSites().subscribe(t=>{this.sites=t})}onRegister(){const t=this.doctors.find(t=>t.id==this.register_doctor.doctor_id);t&&(this.register_doctor.doctor_name=t.doctor_name),this.appService.registerDoctor(this.register_doctor).subscribe(t=>{this.router.navigate(["/manager/registered-doctors"])},t=>alert("failed to register"))}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(b.a),s.Hb(i.a))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-add-registered-doctors"]],decls:20,vars:3,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-md-3","offset-md-4"],[1,"card","card-body","bg-light"],[1,"mb-3","text-center","text-secondary"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"div",1),s.Kb(2,"div",2),s.Kb(3,"div",3),s.Kb(4,"h5",4),s.Zb(5,"Register Doctor"),s.Jb(),s.Kb(6,"div",5),s.Kb(7,"label"),s.Zb(8,"Doctor"),s.Jb(),s.Kb(9,"select",6),s.Qb("ngModelChange",function(t){return e.register_doctor.doctor_id=t}),s.Kb(10,"option",7),s.Zb(11,"Select Doctor"),s.Jb(),s.Yb(12,n,2,2,"option",8),s.Jb(),s.Jb(),s.Kb(13,"div",5),s.Kb(14,"label"),s.Zb(15,"Email"),s.Jb(),s.Kb(16,"input",9),s.Qb("ngModelChange",function(t){return e.register_doctor.email=t}),s.Jb(),s.Jb(),s.Kb(17,"div",5),s.Kb(18,"button",10),s.Qb("click",function(){return e.onRegister()}),s.Zb(19,"Register"),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(9),s.Ub("ngModel",e.register_doctor.doctor_id),s.xb(3),s.Ub("ngForOf",e.doctors),s.xb(4),s.Ub("ngModel",e.register_doctor.email))},directives:[c.f,c.c,c.d,c.e,c.g,o.i,c.a],styles:[""]}),t})();function a(t,e){if(1&t&&(s.Kb(0,"tr"),s.Kb(1,"td"),s.Zb(2),s.Jb(),s.Kb(3,"td"),s.Zb(4),s.Jb(),s.Kb(5,"td"),s.Zb(6),s.Jb(),s.Kb(7,"td"),s.Zb(8),s.Jb(),s.Kb(9,"td"),s.Zb(10),s.Sb(11,"date"),s.Jb(),s.Jb()),2&t){const t=e.$implicit;s.xb(2),s.ac(t.id),s.xb(2),s.ac(t.doctor_id),s.xb(2),s.ac(t.doctor_name),s.xb(2),s.ac(t.email),s.xb(2),s.ac(s.Tb(11,5,t.created_on))}}const g=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Bb({type:t,selectors:[["app-manager"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ib(0,"router-outlet")},directives:[i.d],styles:[""]}),t})(),children:[{path:"",redirectTo:"registered-doctors",pathMatch:"full"},{path:"registered-doctors",component:(()=>{class t{constructor(t,e){this.appService=t,this.router=e,this.registered_doctors=[]}ngOnInit(){this.getResiteredDoctors()}getResiteredDoctors(){this.appService.getRegisteredDoctors(1).subscribe(t=>{this.registered_doctors=t})}onRegisterDoctor(){this.router.navigate(["/manager/register-doctor"])}}return t.\u0275fac=function(e){return new(e||t)(s.Hb(b.a),s.Hb(i.a))},t.\u0275cmp=s.Bb({type:t,selectors:[["app-registered-doctors"]],decls:22,vars:1,consts:[[1,"container-fluid","mt-3"],[1,"text-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"row","mt-3"],[1,"col-md-6","offset-md-3"],[1,"table","table-bordered"],[1,"bg-light"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.Kb(0,"div",0),s.Kb(1,"div",1),s.Kb(2,"button",2),s.Qb("click",function(){return e.onRegisterDoctor()}),s.Ib(3,"span",3),s.Zb(4," Register Doctor "),s.Jb(),s.Jb(),s.Kb(5,"div",4),s.Kb(6,"div",5),s.Kb(7,"table",6),s.Kb(8,"thead",7),s.Kb(9,"tr"),s.Kb(10,"th"),s.Zb(11,"ID"),s.Jb(),s.Kb(12,"th"),s.Zb(13,"Doctor ID"),s.Jb(),s.Kb(14,"th"),s.Zb(15,"Doctor Name"),s.Jb(),s.Kb(16,"th"),s.Zb(17,"Email"),s.Jb(),s.Kb(18,"th"),s.Zb(19,"RegisteredOn"),s.Jb(),s.Jb(),s.Jb(),s.Kb(20,"tbody"),s.Yb(21,a,12,7,"tr",8),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()),2&t&&(s.xb(21),s.Ub("ngForOf",e.registered_doctors))},directives:[o.i],pipes:[o.d],styles:[""]}),t})()},{path:"register-doctor",component:d}]}];let l=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[i.c.forChild(g)],i.c]}),t})(),p=(()=>{class t{}return t.\u0275mod=s.Fb({type:t}),t.\u0275inj=s.Eb({factory:function(e){return new(e||t)},imports:[[o.b,c.b,l]]}),t})()}}]);